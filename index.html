<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PDF Fuzzy Search</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>PDF Fuzzy Search</h1>
    <div class="toolbar">
      <label class="btn secondary" title="Load local file">
        <input id="file-input" type="file" accept="application/pdf" style="display:none" />
        Load PDF
      </label>
      <button id="clear-btn" class="btn secondary">Clear</button>
    </div>
  </header>

  <div class="container">
    <div class="main-content">
      <div class="upload-section">
        <div id="upload-area" class="dropzone">
          <div style="font-size: 1.2rem; margin-bottom: 8px;">ðŸ“„</div>
          Drag & drop a PDF here, or click <strong>Load PDF</strong>
        </div>

        <div class="search-controls">
          <div class="search-input-wrapper">
            <input id="search-box" type="text" placeholder="Type phrase to fuzzy-search (press Enter)" />
          </div>
          <button id="search-btn" class="btn">Search</button>
          <div class="threshold-controls">
            <label class="muted">Threshold</label>
            <input id="threshold" type="range" min="0" max="1" step="0.05" value="0.4" />
            <span id="threshold-val" class="muted">0.40</span>
          </div>
        </div>

        <div id="status" class="status">No PDF loaded.</div>
      </div>

      <div class="pdf-viewer">
        <div id="pdf-container">
          <!-- PDF pages will be rendered here -->
          <div style="text-align: center; padding: 40px; color: var(--muted);">
            <div style="font-size: 3rem; margin-bottom: 16px;">ðŸ“„</div>
            <h3>No PDF Loaded</h3>
            <p>Load a PDF file to start searching</p>
          </div>
        </div>
      </div>
    </div>

    <aside class="sidebar">
      <div class="sidebar-header">
        <strong>Top matches</strong>
        <span id="page-count-display" class="muted">pages: ?</span>
      </div>
      <div id="results">
        <div class="muted" style="text-align: center; padding: 20px;">
          No results yet.<br>
          <small>Search results will appear here</small>
        </div>
      </div>
    </aside>
  </div>

  <footer class="muted">
    Everything runs locally in your browser. Share this HTML file; others can open it and search their PDFs without uploading them.
  </footer>

  <!-- libs (place in lib/ folder) -->
  <script src="lib/pdf.js"></script>
  <script src="lib/fuse.min.js"></script>

  <!-- app logic -->
  <script src="custom-logic.js"></script>
</body>
</html>